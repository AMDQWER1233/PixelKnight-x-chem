<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AMOD GAYANJANA | CHEM OS ULTIMATE</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;600;700&family=Noto+Sans+Sinhala:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">

    <style>
        /* --- 1. CORE VARIABLES & RESET --- */
        :root {
            --primary: #00f0ff;
            --secondary: #bd00ff;
            --accent: #ff004c;
            --bg-dark: #050508;
            --glass-panel: rgba(16, 18, 27, 0.7);
            --border-glow: 1px solid rgba(255, 255, 255, 0.08);
            --text-main: #e0e0e0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Rajdhani', 'Noto Sans Sinhala', sans-serif;
            overflow: hidden; /* App feel */
        }

        /* --- 2. CINEMATIC INTRO --- */
        #intro-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 10000; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }
        .intro-text-box { position: relative; overflow: hidden; }
        .intro-title {
            font-family: 'Orbitron'; font-size: 2.5rem; color: #fff;
            text-transform: uppercase; letter-spacing: 2px;
            text-shadow: 0 0 20px var(--primary);
            transform: translateY(100%); opacity: 0;
        }
        .intro-sub {
            font-family: 'Share Tech Mono'; color: var(--secondary); margin-top: 15px;
            font-size: 1rem; opacity: 0;
        }
        .loader-line {
            width: 0%; height: 3px; background: var(--primary); margin-top: 40px;
            box-shadow: 0 0 15px var(--primary);
        }

        /* --- 3. BACKGROUND ANIMATION --- */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        /* --- 4. NAVIGATION (THE COOL MENU) --- */
        .sidebar {
            position: fixed; left: 0; top: 0; height: 100%; width: 80px;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(15px);
            border-right: var(--border-glow); display: flex; flex-direction: column;
            align-items: center; justify-content: center; gap: 40px; z-index: 500;
            transition: 0.3s;
        }
        .nav-item {
            position: relative; width: 50px; height: 50px; border-radius: 12px;
            display: flex; justify-content: center; align-items: center;
            font-size: 1.4rem; color: #666; cursor: pointer; transition: 0.3s;
            background: rgba(255,255,255,0.02);
        }
        .nav-item:hover, .nav-item.active {
            color: var(--primary); background: rgba(0, 240, 255, 0.1);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.2); transform: scale(1.1);
        }
        .nav-tooltip {
            position: absolute; left: 70px; background: var(--primary); color: #000;
            padding: 5px 10px; font-family: 'Orbitron'; font-size: 0.8rem; font-weight: bold;
            border-radius: 4px; opacity: 0; pointer-events: none; transition: 0.2s;
            white-space: nowrap;
        }
        .nav-item:hover .nav-tooltip { opacity: 1; left: 65px; }

        /* --- 5. MAIN CONTENT LAYOUT --- */
        .main-container {
            margin-left: 80px; height: 100vh; position: relative; overflow: hidden;
        }
        .scroll-wrapper {
            height: 100%; overflow-y: auto; padding: 40px; scroll-behavior: smooth;
        }
        
        /* Custom Scrollbar */
        .scroll-wrapper::-webkit-scrollbar { width: 6px; }
        .scroll-wrapper::-webkit-scrollbar-thumb { background: var(--secondary); border-radius: 3px; }

        /* --- 6. SECTIONS --- */
        .section { display: none; animation: fadeIn 0.6s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- 7. CARDS & STYLING --- */
        .hero-header {
            font-family: 'Orbitron'; font-size: 3.5rem; line-height: 1;
            background: linear-gradient(to right, #fff, var(--primary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .glass-card {
            background: var(--glass-panel); border: var(--border-glow);
            border-radius: 16px; padding: 30px; margin-bottom: 25px;
            position: relative; overflow: hidden; transition: 0.3s;
        }
        .glass-card:hover { border-color: var(--primary); transform: translateY(-3px); }

        /* PROFILE STYLES */
        .profile-flex { display: flex; gap: 30px; align-items: center; }
        .avatar {
            width: 150px; height: 150px; border-radius: 50%; border: 3px solid var(--primary);
            background: url('https://cdn-icons-png.flaticon.com/512/3011/3011270.png'); /* Hacker Icon */
            background-size: cover; box-shadow: 0 0 30px rgba(0,240,255,0.3);
        }
        .role-badge {
            display: inline-block; padding: 5px 12px; border: 1px solid var(--secondary);
            color: var(--secondary); font-family: 'Share Tech Mono'; font-size: 0.8rem;
            margin-right: 8px; margin-top: 10px; border-radius: 4px;
        }

        /* CHEMISTRY GRID */
        .chem-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;
        }
        .theory-card {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
            padding: 20px; border-radius: 12px; transition: 0.3s;
        }
        .theory-card:hover { background: rgba(0,240,255,0.05); border-color: var(--primary); }
        .theory-title { color: var(--primary); font-family: 'Orbitron'; margin-bottom: 10px; font-size: 1.1rem; }
        .theory-content { font-family: 'Noto Sans Sinhala'; font-size: 0.95rem; line-height: 1.6; color: #ccc; }
        
        /* SEARCH BAR */
        .search-box {
            width: 100%; padding: 15px; background: rgba(0,0,0,0.5); border: 1px solid var(--primary);
            border-radius: 8px; color: #fff; font-family: 'Orbitron'; font-size: 1.1rem;
            margin-bottom: 30px; outline: none;
        }

        /* PAST PAPER ARCHIVE */
        .year-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 15px; }
        .year-chip {
            padding: 15px; background: rgba(255,255,255,0.05); text-align: center;
            font-family: 'Orbitron'; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px;
            cursor: pointer; transition: 0.2s;
        }
        .year-chip:hover { background: var(--secondary); color: #fff; transform: scale(1.05); }

        /* MOBILE OPTIMIZATION */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%; height: 60px; bottom: 0; top: auto; flex-direction: row;
                border-right: none; border-top: 1px solid rgba(255,255,255,0.1);
            }
            .nav-tooltip { display: none; }
            .main-container { margin-left: 0; height: calc(100vh - 60px); }
            .hero-header { font-size: 2.2rem; }
            .profile-flex { flex-direction: column; text-align: center; }
            .intro-title { font-size: 1.5rem; }
        }

    </style>
</head>
<body>

    <div id="intro-overlay">
        <div class="intro-text-box">
            <h1 class="intro-title">PROUDLY MADE BY</h1>
            <h1 class="intro-title" style="color:var(--secondary); font-weight:900;">AMOD GAYANJANA</h1>
        </div>
        <div class="intro-sub">INITIALIZING TECHKEY CORE SYSTEMS...</div>
        <div class="loader-line" id="loader-bar"></div>
    </div>

    <canvas id="bg-canvas"></canvas>

    <nav class="sidebar">
        <div class="nav-item active" onclick="showPage('home')">
            <i class="fas fa-home"></i>
            <span class="nav-tooltip">HOME</span>
        </div>
        <div class="nav-item" onclick="showPage('about')">
            <i class="fas fa-user-secret"></i>
            <span class="nav-tooltip">PROFILE</span>
        </div>
        <div class="nav-item" onclick="showPage('chemistry')">
            <i class="fas fa-flask"></i>
            <span class="nav-tooltip">THEORY DB</span>
        </div>
        <div class="nav-item" onclick="showPage('archive')">
            <i class="fas fa-history"></i>
            <span class="nav-tooltip">PAPERS</span>
        </div>
        <div class="nav-item" onclick="showPage('calc')">
            <i class="fas fa-calculator"></i>
            <span class="nav-tooltip">TOOLS</span>
        </div>
    </nav>

    <div class="main-container">
        <div class="scroll-wrapper">
            
            <div id="home" class="section active">
                <h1 class="hero-header">CHEM OS <span style="font-size:1.5rem; color:var(--secondary);">v9.0</span></h1>
                <p style="font-family:'Share Tech Mono'; margin-bottom:30px; color:#aaa;">ADVANCED LEVEL CHEMISTRY INTELLIGENCE UNIT</p>

                <div class="glass-card">
                    <h3 style="color:var(--primary); font-family:'Orbitron'; margin-bottom:10px;"><i class="fas fa-bell"></i> DAILY REMINDER</h3>
                    <p style="font-family:'Noto Sans Sinhala'">මචං, අද දවසේ <strong>රසායනික ගණනය</strong> ප්‍රශ්න 2ක් වත් හදන්න. විශේෂයෙන් <span style="color:var(--accent)">PPM</span> සහ <span style="color:var(--accent)">Back Titration</span> (පසු අනුමාපන) ගැන බලන්න.</p>
                </div>

                <div class="chem-grid">
                    <div class="theory-card" onclick="showPage('chemistry')">
                        <div class="theory-title"><i class="fas fa-database"></i> FULL DATABASE</div>
                        <div class="theory-content">ප්‍රතික්‍රියා, වර්ණ, සූත්‍ර සියල්ල එකම තැනක.</div>
                    </div>
                    <div class="theory-card" onclick="showPage('archive')">
                        <div class="theory-title"><i class="fas fa-file-alt"></i> PAST PAPERS</div>
                        <div class="theory-content">2000 සිට 2025 දක්වා සියලු ප්‍රශ්න පත්‍ර.</div>
                    </div>
                </div>
            </div>

            <div id="about" class="section">
                <h1 class="hero-header" style="font-size:2.5rem;">ADMIN PROFILE</h1>
                
                <div class="glass-card profile-flex">
                    <div class="avatar"></div>
                    <div>
                        <h2 style="font-family:'Orbitron'; font-size:2rem; color:#fff;">AMOD GAYANJANA</h2>
                        <h4 style="color:var(--primary); font-family:'Share Tech Mono'; letter-spacing:2px;">TECHKEY FOUNDER | A/L SCHOLAR</h4>
                        
                        <p style="margin-top:15px; line-height:1.6; color:#ccc;">
                            I am a multidisciplinary technology enthusiast and a Physical Science student. 
                            My passion lies in the intersection of <strong>Software Engineering</strong> and <strong>Cybersecurity</strong>. 
                            As the Administrator of <span style="color:var(--secondary)">TechKey</span> (Sri Lanka's premier tech community), I strive to empower the next generation of digital creators.
                        </p>

                        <div style="margin-top:15px;">
                            <span class="role-badge">ETHICAL HACKER</span>
                            <span class="role-badge">FULL-STACK DEV</span>
                            <span class="role-badge">QA TESTER</span>
                            <span class="role-badge">TECHKEY ADMIN</span>
                        </div>
                    </div>
                </div>

                <div class="glass-card">
                    <h3 style="color:var(--accent); font-family:'Orbitron'">SYSTEM SKILLS</h3>
                    <div style="margin-top:15px;">
                        <div style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>Python / Node.js</span><span>95%</span></div>
                        <div style="width:100%; height:4px; background:#333;"><div style="width:95%; height:100%; background:var(--primary);"></div></div>
                        
                        <div style="display:flex; justify-content:space-between; margin-bottom:5px; margin-top:15px;"><span>Cyber Security</span><span>90%</span></div>
                        <div style="width:100%; height:4px; background:#333;"><div style="width:90%; height:100%; background:var(--secondary);"></div></div>
                    </div>
                </div>
            </div>

            <div id="chemistry" class="section">
                <h1 class="hero-header" style="font-size:2.5rem;">KNOWLEDGE CORE</h1>
                <input type="text" class="search-box" id="searchInput" placeholder="Search (Ex: KMnO4, Gas, Flame)..." onkeyup="filterData()">
                
                <div class="chem-grid" id="content-grid">
                    </div>
            </div>

            <div id="archive" class="section">
                <h1 class="hero-header" style="font-size:2.5rem;">ARCHIVE 2000-2025</h1>
                <p style="margin-bottom:20px; color:#aaa;">Select a year to access the Past Paper database.</p>
                <div class="year-grid" id="paper-grid">
                    </div>
            </div>

            <div id="calc" class="section">
                <h1 class="hero-header" style="font-size:2.5rem;">QUANTUM TOOLS</h1>
                <div class="glass-card">
                    <h3 style="color:var(--primary); font-family:'Orbitron'">MOLE CALCULATOR ($n=m/M$)</h3>
                    <div style="display:flex; gap:10px; margin-top:15px; flex-wrap:wrap;">
                        <input type="number" id="mass" placeholder="Mass (g)" style="padding:10px; flex:1; background:#111; border:1px solid #444; color:#fff;">
                        <input type="number" id="molar" placeholder="Molar Mass (g/mol)" style="padding:10px; flex:1; background:#111; border:1px solid #444; color:#fff;">
                    </div>
                    <button onclick="calculate()" style="width:100%; padding:15px; margin-top:10px; background:var(--secondary); border:none; color:#fff; font-family:'Orbitron'; cursor:pointer;">CALCULATE</button>
                    <div id="result" style="margin-top:15px; font-size:1.5rem; color:var(--primary); text-align:center;">0.00 mol</div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- 1. INTRO ANIMATION ---
        window.onload = () => {
            const tl = gsap.timeline();
            
            tl.to(".intro-title", { y: 0, opacity: 1, duration: 1, stagger: 0.3, ease: "power4.out" })
              .to(".intro-sub", { opacity: 1, duration: 1 })
              .to("#loader-bar", { width: "80%", duration: 1.5, ease: "power2.inOut" })
              .to("#intro-overlay", { y: "-100%", duration: 1, delay: 0.5, ease: "expo.inOut" })
              .from(".sidebar", { x: -100, duration: 1 }, "-=0.5")
              .from(".section.active", { opacity: 0, y: 50, duration: 1 }, "-=0.5");
            
            renderDB();
            renderYears();
        };

        // --- 2. THREE.JS BACKGROUND ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({canvas: document.getElementById('bg-canvas'), alpha: true});
        renderer.setSize(window.innerWidth, window.innerHeight);

        // Particles
        const geometry = new THREE.BufferGeometry();
        const count = 400;
        const pos = new Float32Array(count*3);
        for(let i=0; i<count*3; i++) pos[i] = (Math.random()-0.5)*20;
        geometry.setAttribute('position', new THREE.BufferAttribute(pos, 3));
        const material = new THREE.PointsMaterial({size: 0.05, color: 0x00f0ff, transparent: true, opacity: 0.5});
        const particles = new THREE.Points(geometry, material);
        scene.add(particles);
        camera.position.z = 5;

        function animate() {
            requestAnimationFrame(animate);
            particles.rotation.y += 0.002;
            particles.rotation.x += 0.001;
            renderer.render(scene, camera);
        }
        animate();

        // --- 3. DATABASE (The "Nook & Cranny") ---
        const db = [
            // CALCULATIONS
            { t: "මවුල ගණනය (Mole)", d: "1. ස්කන්ධයෙන්: n = m/M<br>2. පරිමාවෙන් (ද්‍රාවණ): n = CV<br>3. පරිමාවෙන් (වායු STP): n = V/22.4" },
            { t: "සාන්ද්‍රණය (Conc)", d: "C = n/V (ඒකකය: mol dm⁻³)<br>ඝනත්වයෙන් සෙවීම: C = 10ρw / M" },
            { t: "PPM (Parts Per Million)", d: "ppm = ද්‍රාව්‍ය ස්කන්ධය (mg) / ද්‍රාවණ පරිමාව (dm³)<br>ජලයේ කඨිනත්වය සෙවීමට යොදාගනී." },
            { t: "පසු අනුමාපන (Back Titration)", d: "වැඩිපුර දමන ලද ප්‍රතික්‍රියක ප්‍රමාණය, වෙනත් ද්‍රාවණයක් මගින් අනුමාපනය කර සොයා ගනී." },
            
            // INORGANIC
            { t: "Flame Colors (S Block)", d: "Li: ක්‍රිම්සන් රතු | Na: රන්වන් කහ | K: ලිලැක් | Ca: ගඩොල් රතු | Ba: ඇපල් කොළ" },
            { t: "Halide Precipitates", d: "AgCl: සුදු (dil NH₃ දියවේ)<br>AgBr: ලා කහ (conc NH₃ දියවේ)<br>AgI: තද කහ (දිය නොවේ)" },
            { t: "Nitrate Test", d: "දුඹුරු වලලු පරීක්ෂාව: [Fe(H₂O)₅NO]²⁺ සංකීර්ණය සාදයි." },
            
            // REDOX
            { t: "KMnO₄ (Acidic)", d: "දම් පාට → අවර්ණ (Mn²⁺) | ඔක්සිකාරක අංක වෙනස: 5" },
            { t: "K₂Cr₂O₇ (Acidic)", d: "තැඹිලි → කොළ (Cr³⁺) | ඔක්සිකාරක අංක වෙනස: 6" },
            { t: "Iodometry (Starch)", d: "තද නිල් → අවර්ණ (I₂ + 2S₂O₃²⁻ → 2I⁻ + S₄O₆²⁻)" },

            // ORGANIC
            { t: "Tollens Test", d: "Aldehyde පමණක් රිදී කැඩපතක් ලබා දෙයි (Ag)." },
            { t: "Fehling Test", d: "Aldehyde රතු අවක්ෂේපයක් ලබා දෙයි (Cu₂O)." },
            { t: "Lucas Reagent", d: "ZnCl₂/HCl. Alcohol හඳුනාගැනීමට.<br>Tertiary: ක්ෂණිකව | Secondary: වි. 5කින් | Primary: රත් කළ විට" }
        ];

        // --- 4. RENDER FUNCTIONS ---
        function renderDB(filter = "") {
            const container = document.getElementById('content-grid');
            container.innerHTML = "";
            const filtered = db.filter(item => item.t.toLowerCase().includes(filter) || item.d.toLowerCase().includes(filter));
            
            filtered.forEach(item => {
                container.innerHTML += `
                    <div class="theory-card">
                        <div class="theory-title">${item.t}</div>
                        <div class="theory-content">${item.d}</div>
                    </div>
                `;
            });
        }

        function filterData() {
            renderDB(document.getElementById('searchInput').value.toLowerCase());
        }

        function renderYears() {
            const grid = document.getElementById('paper-grid');
            for(let y=2025; y>=2000; y--) {
                grid.innerHTML += `<div class="year-chip" onclick="alert('${y} Paper Loading...')">${y}</div>`;
            }
        }

        function calculate() {
            const m = parseFloat(document.getElementById('mass').value);
            const mm = parseFloat(document.getElementById('molar').value);
            if(m && mm) document.getElementById('result').innerText = (m/mm).toFixed(4) + " mol";
        }

        // --- 5. NAVIGATION ---
        function showPage(id) {
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            
            document.getElementById(id).classList.add('active');
            
            const map = { 'home':0, 'about':1, 'chemistry':2, 'archive':3, 'calc':4 };
            document.querySelectorAll('.nav-item')[map[id]].classList.add('active');
        }

    </script>
</body>
</html>
