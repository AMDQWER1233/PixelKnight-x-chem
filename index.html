<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMOD GAYANJANA | SYSTEM CORE</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>window.MathJax = { tex: { inlineMath: [['$', '$']] }, svg: { fontCache: 'global' } };</script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&family=Share+Tech+Mono&family=Noto+Sans+Sinhala:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
            --neon-red: #ff003c;
            --bg-dark: #020202;
            --glass: rgba(10, 15, 20, 0.75);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }

        body {
            background: var(--bg-dark);
            color: #fff;
            font-family: 'Rajdhani', 'Noto Sans Sinhala', sans-serif;
            overflow: hidden;
        }

        /* --- CUSTOM CURSOR --- */
        #cursor {
            width: 20px; height: 20px; border: 2px solid var(--neon-blue); border-radius: 50%;
            position: fixed; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s; mix-blend-mode: difference;
        }
        #cursor.hovered { width: 60px; height: 60px; background: rgba(0, 243, 255, 0.1); border-color: var(--neon-purple); }
        #cursor::after {
            content: ''; position: absolute; top: 50%; left: 50%; width: 4px; height: 4px;
            background: #fff; transform: translate(-50%, -50%); border-radius: 50%;
        }

        /* --- 3D BACKGROUND --- */
        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        /* --- INTRO LOADER --- */
        #intro-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 5000; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
        }
        .intro-text {
            font-family: 'Orbitron'; font-size: 2.5rem; color: var(--neon-blue);
            text-shadow: 0 0 20px var(--neon-blue); letter-spacing: 5px;
            opacity: 0; transform: scale(0.9);
        }
        .intro-sub {
            font-family: 'Share Tech Mono'; color: var(--neon-purple); margin-top: 15px;
            font-size: 1.2rem; opacity: 0;
        }
        .scan-bar {
            width: 0%; height: 2px; background: #fff; margin-top: 30px;
            box-shadow: 0 0 15px #fff;
        }

        /* --- UI LAYOUT --- */
        .hud-frame {
            position: fixed; border: 1px solid rgba(0, 243, 255, 0.2);
            pointer-events: none; z-index: 10;
        }
        .hud-top { top: 20px; left: 20px; right: 20px; height: 50px; border-bottom: none; }
        .hud-btm { bottom: 20px; left: 20px; right: 20px; height: 50px; border-top: none; }

        .app-container {
            display: flex; height: 100vh; padding: 80px 40px; gap: 30px;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 80px; display: flex; flex-direction: column; justify-content: center; gap: 30px; z-index: 100;
        }
        .nav-btn {
            width: 60px; height: 60px; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1);
            display: flex; justify-content: center; align-items: center; font-size: 1.5rem;
            color: rgba(255,255,255,0.5); transition: 0.3s; clip-path: polygon(20% 0, 100% 0, 100% 80%, 80% 100%, 0 100%, 0 20%);
        }
        .nav-btn:hover, .nav-btn.active {
            color: var(--neon-blue); border-color: var(--neon-blue); transform: scale(1.1);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
        }

        /* --- CONTENT AREA --- */
        .main-display {
            flex: 1; position: relative; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.05); background: rgba(0,0,0,0.3);
            backdrop-filter: blur(5px); border-radius: 10px;
        }
        
        .section {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            padding: 40px; opacity: 0; pointer-events: none; transform: translateY(20px);
            transition: 0.5s ease; overflow-y: auto;
        }
        .section.active { opacity: 1; pointer-events: all; transform: translateY(0); }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--neon-blue); }

        /* --- TITLES --- */
        h1.glitch-header {
            font-family: 'Orbitron'; font-size: 3rem; color: #fff;
            text-shadow: 2px 2px 0px var(--neon-red), -2px -2px 0px var(--neon-blue);
            margin-bottom: 30px; border-bottom: 2px solid var(--neon-blue); display: inline-block;
        }

        /* --- ABOUT ME CARD (HOLOGRAPHIC) --- */
        .profile-card {
            display: flex; gap: 40px; align-items: center;
            background: rgba(10, 10, 10, 0.8); border: 1px solid var(--neon-purple);
            padding: 40px; border-radius: 15px; position: relative; overflow: hidden;
        }
        .profile-card::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(188, 19, 254, 0.2), transparent);
            animation: holo-scan 4s infinite linear;
        }
        @keyframes holo-scan { 0% {left: -100%} 100% {left: 200%} }
        
        .p-pic {
            width: 150px; height: 150px; border-radius: 50%; border: 3px solid var(--neon-blue);
            background: url('https://cdn-icons-png.flaticon.com/512/4140/4140048.png'); /* Generic Hacker Icon */
            background-size: cover; box-shadow: 0 0 30px var(--neon-blue);
        }
        .p-details h2 { font-family: 'Orbitron'; font-size: 2.5rem; color: #fff; margin-bottom: 5px; }
        .p-details h4 { font-family: 'Share Tech Mono'; color: var(--neon-purple); font-size: 1.2rem; letter-spacing: 2px; }
        .p-bio { margin-top: 20px; line-height: 1.6; color: #ccc; font-size: 1.1rem; max-width: 600px; }
        .p-badges { margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        .badge {
            padding: 5px 15px; background: rgba(0, 243, 255, 0.1); border: 1px solid var(--neon-blue);
            color: var(--neon-blue); font-family: 'Share Tech Mono'; font-size: 0.9rem;
        }

        /* --- CHEM DATABASE GRID --- */
        .search-bar {
            width: 100%; padding: 15px; background: rgba(0,0,0,0.5); border: 1px solid var(--neon-blue);
            color: #fff; font-family: 'Orbitron'; font-size: 1.2rem; margin-bottom: 30px;
        }
        .chem-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;
        }
        .chem-card {
            background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.1);
            padding: 20px; transition: 0.3s; position: relative;
        }
        .chem-card:hover {
            border-color: var(--neon-blue); background: rgba(0, 243, 255, 0.05);
            transform: translateY(-5px);
        }
        .chem-title { color: var(--neon-blue); font-family: 'Orbitron'; font-size: 1.2rem; margin-bottom: 10px; }
        .chem-body { font-size: 1rem; color: #ddd; line-height: 1.5; font-family: 'Noto Sans Sinhala'; }
        .chem-tag {
            position: absolute; top: 10px; right: 10px; font-size: 0.7rem; 
            padding: 2px 5px; background: var(--neon-purple); color: #000; font-weight: bold;
        }

    </style>
</head>
<body>

    <div id="cursor"></div>

    <div id="canvas-container"></div>

    <div id="intro-layer">
        <h1 class="intro-text" id="intro-main"></h1>
        <div class="scan-bar" id="intro-bar"></div>
        <p class="intro-sub">SYSTEM INITIALIZATION...</p>
    </div>

    <div class="hud-frame hud-top"></div>
    <div class="hud-frame hud-btm"></div>

    <div class="app-container">
        
        <nav class="sidebar">
            <div class="nav-btn active" onclick="nav('about')"><i class="fas fa-user-astronaut"></i></div>
            <div class="nav-btn" onclick="nav('chem')"><i class="fas fa-atom"></i></div>
            <div class="nav-btn" onclick="nav('calc')"><i class="fas fa-calculator"></i></div>
        </nav>

        <div class="main-display">
            
            <div id="about" class="section active">
                <h1 class="glitch-header">IDENTITY CONFIRMED</h1>
                
                <div class="profile-card">
                    <div class="p-pic"></div>
                    <div class="p-details">
                        <h2>AMOD GAYANJANA</h2>
                        <h4>PIXEL KNIGHT | A/L SCHOLAR</h4>
                        
                        <div class="p-bio">
                            <p>
                                I am a multidisciplinary technologist and an Advanced Level student specializing in the Physical Science stream. 
                                My expertise spans across <strong>Full-Stack Development</strong>, <strong>Ethical Cybersecurity</strong>, and <strong>Application Quality Assurance</strong>.
                            </p>
                            <br>
                            <p>
                                Currently serving as the <strong>Founder & Administrator</strong> of <span style="color:var(--neon-blue)">TechKey</span>, 
                                Sri Lanka's No. 01 premier technology community. I blend academic rigor with real-world technical innovation to build next-generation digital solutions.
                            </p>
                        </div>

                        <div class="p-badges">
                            <div class="badge">ETHICAL HACKER</div>
                            <div class="badge">PROGRAMMER</div>
                            <div class="badge">APP TESTER</div>
                            <div class="badge">TECHKEY ADMIN</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="chem" class="section">
                <h1 class="glitch-header">CHEM DATA CORE</h1>
                <input type="text" class="search-bar" id="searchInp" placeholder="Search Database (e.g. KMnO4, Gas, Flame)..." onkeyup="filterChem()">
                
                <div class="chem-grid" id="chem-container">
                    </div>
            </div>

            <div id="calc" class="section">
                <h1 class="glitch-header">QUANTUM CALC</h1>
                <div class="profile-card" style="flex-direction: column; align-items: flex-start;">
                    <h3 style="color:var(--neon-blue)">Mole Calculator ($n=m/M$)</h3>
                    <div style="display:flex; gap:10px; width:100%;">
                        <input type="number" id="mass" placeholder="Mass (g)" class="search-bar" style="margin:0;">
                        <input type="number" id="molar" placeholder="Molar Mass (g/mol)" class="search-bar" style="margin:0;">
                    </div>
                    <button onclick="calcMole()" style="padding:15px; width:100%; background:var(--neon-purple); border:none; color:#fff; font-family:'Orbitron'; font-size:1.2rem; cursor:pointer;">COMPUTE</button>
                    <div id="res" style="margin-top:20px; font-size:2rem; color:var(--neon-blue);">0.00 mol</div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- 1. INTRO ANIMATION (CINEMATIC) ---
        const introText = "Proudly Made By Amod Gayanajana";
        const introEl = document.getElementById('intro-main');
        const introBar = document.getElementById('intro-bar');
        const introLayer = document.getElementById('intro-layer');

        let i = 0;
        function typeWriter() {
            if (i < introText.length) {
                introEl.innerHTML += introText.charAt(i);
                i++;
                setTimeout(typeWriter, 50); // Typing speed
            } else {
                // Animation after typing
                gsap.to(introEl, { scale: 1.1, duration: 2, color: "#fff" });
                gsap.to(introBar, { width: "100%", duration: 1.5, ease: "power2.inOut" });
                
                // Fade out
                gsap.to(introLayer, { 
                    opacity: 0, 
                    delay: 2.5, 
                    duration: 1, 
                    onComplete: () => { introLayer.style.display = 'none'; } 
                });
                
                // Slide in UI
                gsap.from(".sidebar", { x: -100, delay: 3, duration: 1 });
                gsap.from(".main-display", { opacity: 0, scale: 0.9, delay: 3.2, duration: 1 });
            }
        }
        window.onload = typeWriter;

        // --- 2. THREE.JS BACKGROUND ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // Particles
        const geometry = new THREE.BufferGeometry();
        const count = 1000;
        const posArray = new Float32Array(count * 3);
        for(let i=0; i<count*3; i++) posArray[i] = (Math.random() - 0.5) * 20;
        geometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const material = new THREE.PointsMaterial({ size: 0.02, color: 0x00f3ff, transparent: true, opacity: 0.8 });
        const particles = new THREE.Points(geometry, material);
        scene.add(particles);
        camera.position.z = 5;

        // Mouse Move
        let mouseX = 0, mouseY = 0;
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX / window.innerWidth - 0.5;
            mouseY = e.clientY / window.innerHeight - 0.5;
            // Custom Cursor
            const cursor = document.getElementById('cursor');
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        // Hover Effect
        document.querySelectorAll('button, input, .nav-btn').forEach(el => {
            el.addEventListener('mouseenter', () => document.getElementById('cursor').classList.add('hovered'));
            el.addEventListener('mouseleave', () => document.getElementById('cursor').classList.remove('hovered'));
        });

        function animate() {
            requestAnimationFrame(animate);
            particles.rotation.y += 0.002;
            particles.rotation.x += mouseY * 0.05;
            particles.rotation.y += mouseX * 0.05;
            renderer.render(scene, camera);
        }
        animate();

        // --- 3. CHEMISTRY DATABASE (THE "NOOK & CRANNY") ---
        const chemData = [
            { cat: "Basic", t: "මවුල (Mole Concept)", d: "$$n = m/M$$ (ස්කන්ධය මගින්)<br>$$n = CV$$ (සාන්ද්‍රණය මගින්)<br>$$n = V/22.4$$ (STP හිදී වායු)" },
            { cat: "Gas", t: "වායු නියම (Gas Laws)", d: "පරිපූර්ණ වායු සමීකරණය: $$PV = nRT$$<br>R = 8.314 J mol⁻¹ K⁻¹<br>බොයිල් නියමය: P ∝ 1/V<br>චාල්ස් නියමය: V ∝ T" },
            { cat: "Redox", t: "KMnO4 (ආම්ලික)", d: "වර්ණය: දම් $\\rightarrow$ අවර්ණ<br>$$MnO_4^- + 8H^+ + 5e \\rightarrow Mn^{2+} + 4H_2O$$<br>ඔක්සිකාරක අංකය: +7 $\\rightarrow$ +2" },
            { cat: "Redox", t: "KMnO4 (භාෂ්මික/උදාසීන)", d: "වර්ණය: දම් $\\rightarrow$ දුඹුරු අවක්ෂේප ($MnO_2$)<br>$$MnO_4^- + 2H_2O + 3e \\rightarrow MnO_2 + 4OH^-$$" },
            { cat: "Redox", t: "K2Cr2O7 (ආම්ලික)", d: "වර්ණය: තැඹිලි $\\rightarrow$ කොළ<br>$$Cr_2O_7^{2-} + 14H^+ + 6e \\rightarrow 2Cr^{3+} + 7H_2O$$" },
            { cat: "Redox", t: "Iodometry (තයෝසල්ෆේට්)", d: "$$2S_2O_3^{2-} + I_2 \\rightarrow S_4O_6^{2-} + 2I^-$$<br>දර්ශකය: පිෂ්ඨය (Starch)<br>අන්ත ලක්ෂය: තද නිල් $\\rightarrow$ අවර්ණ" },
            { cat: "Test", t: "Nitrate Test (දුඹුරු වලලු)", d: "$$[Fe(H_2O)_5NO]^{2+}$$<br>FeSO4 සහ සාන්ද්‍ර H2SO4 භාවිතා කරයි." },
            { cat: "Flame", t: "දැල්ලේ වර්ණ (Flame Test)", d: "Li: ක්‍රිම්සන් රතු (Crimson)<br>Na: රන්වන් කහ (Golden Yellow)<br>K: ලිලැක් (Lilac)<br>Ca: ගඩොල් රතු (Brick Red)<br>Ba: ඇපල් කොළ (Apple Green)<br>Cu: නිල් කොළ (Blue Green)" },
            { cat: "Ppt", t: "Halide Precipitates", d: "AgCl: සුදු (දියවේ - dil NH3)<br>AgBr: ලා කහ (දියවේ - conc NH3)<br>AgI: තද කහ (දිය නොවේ)" },
            { cat: "Organic", t: "Aldehyde Tests", d: "Tollens: රිදී කැඩපතක් (Ag)<br>Fehling: ගඩොල් රතු අවක්ෂේප ($Cu_2O$)<br>Brady (2,4-DNP): තැඹිලි අවක්ෂේප" },
            { cat: "Organic", t: "Lucas Test (Alcohols)", d: "Reagent: ZnCl2 + conc HCl<br>Tertiary: ක්ෂණිකව කැළඹේ<br>Secondary: වි. 5කින් කැළඹේ<br>Primary: රත් කළ විට පමණි" },
            { cat: "Calc", t: "සාන්ද්‍රණය තනුක කිරීම", d: "$$C_1V_1 = C_2V_2$$<br>ජලය එකතු කරන විට මවුල ගණන නියතව පවතී." },
            { cat: "Inorganic", t: "S Block - දියවීමේ ශක්තිය", d: " කාණ්ඩයේ පහළට යන විට හයිඩ්‍රේෂන් එන්තැල්පිය අඩු වේ. ද්‍රාව්‍යතාව වෙනස් වේ." },
            { cat: "Calc", t: "ඵලදාව (Yield)", d: "$$\\text{Percentage Yield} = \\frac{\\text{Actual Yield}}{\\text{Theoretical Yield}} \\times 100$$" }
        ];

        // Load Data
        const chemContainer = document.getElementById('chem-container');
        function loadChem(data) {
            chemContainer.innerHTML = "";
            data.forEach(item => {
                chemContainer.innerHTML += `
                    <div class="chem-card">
                        <span class="chem-tag">${item.cat}</span>
                        <div class="chem-title">${item.t}</div>
                        <div class="chem-body">${item.d}</div>
                    </div>
                `;
            });
            MathJax.typeset();
        }
        loadChem(chemData);

        // Search Function
        function filterChem() {
            const query = document.getElementById('searchInp').value.toLowerCase();
            const filtered = chemData.filter(item => 
                item.t.toLowerCase().includes(query) || 
                item.d.toLowerCase().includes(query)
            );
            loadChem(filtered);
        }

        // --- 4. NAVIGATION LOGIC ---
        function nav(id) {
            document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(id).classList.add('active');
            // Add active class to corresponding button
            // (Simple logic for demo)
            event.currentTarget.classList.add('active');
        }

        // --- 5. CALCULATOR ---
        function calcMole() {
            const m = parseFloat(document.getElementById('mass').value);
            const mm = parseFloat(document.getElementById('molar').value);
            if(m && mm) {
                document.getElementById('res').innerText = (m/mm).toFixed(4) + " mol";
            }
        }

    </script>
</body>
</html>
